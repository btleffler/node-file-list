extends layout

block nav
    .navbar-header
        button.navbar-toggle(type="button",data-toggle="collapse",data-target=".navbar-ex1-collapse")
            span.sr-only Toggle navigation
            span.icon-bar
            span.icon-bar
            span.icon-bar
        a.navbar-brand(href="/") Files
    .collapse.navbar-collapse.navbar-ex1-collapse
        ul.nav.navbar-nav
            for breadcrumb in breadcrumbs.parts
                li
                    a(href=breadcrumb.path)= breadcrumb.name
            li.active
                a(href=breadcrumbs.lastPart.path)= breadcrumbs.lastPart.name

block content
    if error
        .alert.alert-danger= error
    if files.length
        table.table.table-hover
            thead
                tr
                    th
                    th.important Name
                    th Size
                    th Date
            tbody
                for file in files
                    tr
                        td
                            span.glyphicon.glyphicon-save
                        td.important
                            a(href=file.getPath(true), title=file.name)= file.name
                        td= file.size()
                        td
                            .longDate= file.date()
                            .shortDate= file.shortDate();
        script(type="text/javascript").
            $(function () {
                var $anchors = $('a');
                
                $anchors.each(function(index, element) {
                    var $this = $(element);
                    
                    $this.parents("tr").click(function () {
                        window.location = $this.attr("href");
                    });
                });
            });
